<!-- The custom widget template is defined here
   - You can use standard HTML tags and AngularJS built-in directives, scope and interpolation system
   - Custom widget properties defined on the right can be used as variables in a templates with properties.newProperty
   - Functions exposed in the controller can be used with ctrl.newFunction()
   - You can use the 'environment' property injected in the scope when inside the Editor whiteboard. It allows to define a mockup
     of the Custom Widget to be displayed in the whiteboard only. By default the widget is represented by an auto-generated icon
     and its name (See the <span> below).
-->
 
<span ng-if="environment"><identicon name="{{environment.component.id}}" size="30" background-color="[255,255,255, 0]" foreground-color="[51,51,51]"></identicon> {{environment.component.name}}</span>

<style>
.glyphicon-refresh-animate {
    -animation: spin .7s infinite linear;
    -webkit-animation: spinWebkit 1s infinite linear;
    -moz-animation: spinMoz 1s infinite linear;

}

@-webkit-keyframes spinWebkit {
    from { -webkit-transform: rotate(0deg);}
    to { -webkit-transform: rotate(360deg);}
}
@keyframes spinMoz {
    from { transform: scale(1) rotate(0deg);}
    to { transform: scale(1) rotate(360deg);}
}
@keyframes spin {
    from { transform: scale(1) rotate(0deg);}
    to { transform: scale(1) rotate(360deg);}
} 
</style>

<div ng-show="ctrl.isChecking" class="text-center alert alert-info" style="font-size: 1.3em;">
    <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>
    <span> {{ properties.checkingMessage }}</span>
</div>

<div ng-if="ctrl.listExistingPropositions.length > 0">
     <div class="text-center alert" ng-class="ctrl.existingMsgClass" style="font-size: 1.3em;">
        {{ ctrl.existingMsg }}
        <span ng-show="! ctrl.enableOverride"><BR>{{ properties.blockingMessage }}</span>
    </div>
    <div class="text-center alert" ng-show="ctrl.enableOverride" ng-class="ctrl.checkboxClass">
        <label>
            <input type="checkbox" ng-model="ctrl.isOverridden" name="overrideOption" ng-change="ctrl.setOverride()">
            {{ properties.overrideMessage }}
        </label>
    </div>
</div>
