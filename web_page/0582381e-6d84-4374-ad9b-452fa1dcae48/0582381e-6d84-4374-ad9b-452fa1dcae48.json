{
  "modelVersion" : "2.2",
  "previousArtifactVersion" : "2.0",
  "id" : "0582381e-6d84-4374-ad9b-452fa1dcae48",
  "name" : "pop3pDxxConfirmerDateLivraison",
  "lastUpdate" : 1671627876888,
  "rows" : [
    [
      {
        "type" : "container",
        "dimension" : {
          "xs" : 12
        },
        "propertyValues" : { },
        "reference" : "f4569ff9-ed0c-431c-9c77-7ff57338718a",
        "hasValidationError" : false,
        "id" : "pbContainer",
        "rows" : [
          [
            {
              "type" : "component",
              "dimension" : {
                "md" : 12,
                "sm" : 12,
                "xs" : 12,
                "lg" : 12
              },
              "propertyValues" : {
                "labelHidden" : {
                  "type" : "constant",
                  "value" : false
                },
                "readonly" : {
                  "type" : "constant",
                  "value" : false
                },
                "level" : {
                  "type" : "constant",
                  "value" : "Level 1"
                },
                "cssClasses" : {
                  "type" : "constant",
                  "value" : ""
                },
                "widgetId" : {
                  "type" : "constant",
                  "value" : "pbTitle"
                },
                "isDisplayed" : {
                  "type" : "constant",
                  "value" : true
                },
                "label" : {
                  "type" : "constant"
                },
                "text" : {
                  "type" : "interpolation",
                  "value" : "{{ task.displayName }}"
                },
                "alignment" : {
                  "type" : "constant",
                  "value" : "center"
                },
                "class" : {
                  "type" : "constant",
                  "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.TitleWidget"
                },
                "dimension" : {
                  "type" : "constant",
                  "value" : 12
                },
                "hidden" : {
                  "type" : "constant",
                  "value" : false
                }
              },
              "reference" : "071baa7d-a92b-4708-a027-efe9d573fcf8",
              "hasValidationError" : false,
              "id" : "pbTitle"
            }
          ],
          [
            {
              "type" : "component",
              "dimension" : {
                "md" : 12,
                "sm" : 12,
                "xs" : 12,
                "lg" : 6
              },
              "propertyValues" : {
                "labelHidden" : {
                  "type" : "constant",
                  "value" : false
                },
                "readonly" : {
                  "type" : "constant",
                  "value" : false
                },
                "cssClasses" : {
                  "type" : "constant",
                  "value" : ""
                },
                "widgetId" : {
                  "type" : "constant",
                  "value" : "pbText"
                },
                "isDisplayed" : {
                  "type" : "constant",
                  "value" : true
                },
                "label" : {
                  "type" : "constant"
                },
                "text" : {
                  "type" : "interpolation",
                  "value" : "{{ task.displayDescription }}"
                },
                "alignment" : {
                  "type" : "constant",
                  "value" : "left"
                },
                "class" : {
                  "type" : "constant",
                  "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.TextWidget"
                },
                "dimension" : {
                  "type" : "constant",
                  "value" : 12
                },
                "hidden" : {
                  "type" : "constant",
                  "value" : false
                },
                "allowHTML" : {
                  "type" : "constant",
                  "value" : true
                },
                "labelPosition" : {
                  "type" : "constant",
                  "value" : "top"
                },
                "labelWidth" : {
                  "type" : "constant",
                  "value" : 4
                }
              },
              "reference" : "0743df05-c592-4bba-976a-6eb2e5527f96",
              "hasValidationError" : false,
              "id" : "pbText"
            }
          ]
        ]
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "text" : {
            "type" : "interpolation",
            "value" : "Détails de la proposition"
          },
          "level" : {
            "type" : "constant",
            "value" : "Level 4"
          },
          "alignment" : {
            "type" : "constant",
            "value" : "left"
          }
        },
        "reference" : "487e2a9f-4b6e-4553-970b-9d8aaa6a369b",
        "hasValidationError" : false,
        "id" : "pbTitle"
      }
    ],
    [
      {
        "type" : "fragment",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : "breadcrumb"
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          }
        },
        "reference" : "e2efbc08-d440-4670-ba76-b59e89863e3a",
        "hasValidationError" : false,
        "id" : "96ff9112-5e4f-4b05-b18a-ab6d2aced5a2",
        "binding" : {
          "displayDetailProposition" : "",
          "getSession" : "session",
          "propositionInput" : "propositionInput",
          "selectedProposition" : "",
          "searchCase" : "",
          "commentValue" : "",
          "urlAPISendComment" : "",
          "commentToSend" : "",
          "addCommentResult" : "",
          "addCommentError" : "",
          "getComments" : "getComments",
          "urlFindPropositionHistory" : "urlFindPropositionHistory",
          "isMaterialDisplayed" : ""
        }
      }
    ],
    [
      {
        "type" : "formContainer",
        "dimension" : {
          "xs" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          }
        },
        "reference" : "2403e7cf-8256-4229-99bd-30bc1bdf2cd6",
        "hasValidationError" : false,
        "id" : "pbFormContainer",
        "container" : {
          "type" : "container",
          "dimension" : {
            "xs" : 12
          },
          "propertyValues" : { },
          "reference" : "b33cc6af-3aff-4934-9bfb-20b132ce15c1",
          "hasValidationError" : false,
          "id" : "pbContainer",
          "rows" : [
            [
              {
                "type" : "component",
                "dimension" : {
                  "xs" : 12,
                  "sm" : 12,
                  "md" : 12,
                  "lg" : 12
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : ""
                  },
                  "hidden" : {
                    "type" : "constant",
                    "value" : false
                  },
                  "text" : {
                    "type" : "interpolation",
                    "value" : "Détails de la commande"
                  },
                  "level" : {
                    "type" : "constant",
                    "value" : "Level 4"
                  },
                  "alignment" : {
                    "type" : "constant",
                    "value" : "left"
                  }
                },
                "reference" : "26f831bb-33c2-4136-b919-8558565a2969",
                "hasValidationError" : false,
                "id" : "pbTitle"
              }
            ],
            [
              {
                "type" : "fragment",
                "dimension" : {
                  "xs" : 12,
                  "sm" : 12,
                  "md" : 12,
                  "lg" : 12
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : ""
                  },
                  "hidden" : {
                    "type" : "constant",
                    "value" : false
                  }
                },
                "reference" : "3b80ea7d-1f65-47dd-ad2c-ae89a5add7f5",
                "hasValidationError" : false,
                "id" : "2cc7488e-0dd9-40a9-a622-9151e139a2ef",
                "binding" : {
                  "formInput" : "commande",
                  "editable" : "false",
                  "required" : "false",
                  "dateEditable" : "true",
                  "commande" : "commande"
                }
              }
            ],
            [
              {
                "type" : "component",
                "dimension" : {
                  "xs" : 6,
                  "sm" : 6,
                  "md" : 6,
                  "lg" : 6
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : ""
                  },
                  "hidden" : {
                    "type" : "constant",
                    "value" : false
                  },
                  "label" : {
                    "type" : "interpolation",
                    "value" : "Valider"
                  },
                  "btnStyle" : {
                    "type" : "constant",
                    "value" : "primary"
                  },
                  "btnAlignment" : {
                    "type" : "constant",
                    "value" : "right"
                  },
                  "actionUrl" : {
                    "type" : "interpolation",
                    "value" : "/bonita/API/bpm/humanTask/{{taskId}}"
                  },
                  "requestPayload" : {
                    "type" : "expression",
                    "value" : "assignTaskPayload"
                  },
                  "executeUrl" : {
                    "type" : "interpolation",
                    "value" : "/bonita/API/bpm/userTask/{{taskId}}/execution"
                  },
                  "executePayload" : {
                    "type" : "expression",
                    "value" : "formOutput"
                  },
                  "successResponse" : {
                    "type" : "variable",
                    "value" : ""
                  },
                  "errorResponse" : {
                    "type" : "variable",
                    "value" : "submitError"
                  },
                  "targetUrl" : {
                    "type" : "interpolation",
                    "value" : "{{targetURL}}"
                  },
                  "disabled" : {
                    "type" : "expression",
                    "value" : "$form.$invalid"
                  }
                },
                "reference" : "ebbe0c6f-2979-4c02-9c1a-931648c89264",
                "hasValidationError" : false,
                "id" : "customAssignExecuteButton"
              },
              {
                "type" : "component",
                "dimension" : {
                  "xs" : 6,
                  "sm" : 6,
                  "md" : 6,
                  "lg" : 6
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : ""
                  },
                  "hidden" : {
                    "type" : "constant",
                    "value" : false
                  },
                  "text" : {
                    "type" : "interpolation",
                    "value" : "Annuler"
                  },
                  "type" : {
                    "type" : "constant",
                    "value" : "page"
                  },
                  "targetUrl" : {
                    "type" : "constant",
                    "value" : "http://"
                  },
                  "pageToken" : {
                    "type" : "constant",
                    "value" : "homePage"
                  },
                  "processName" : {
                    "type" : "constant"
                  },
                  "processVersion" : {
                    "type" : "constant"
                  },
                  "taskId" : {
                    "type" : "constant"
                  },
                  "caseId" : {
                    "type" : "constant"
                  },
                  "target" : {
                    "type" : "constant",
                    "value" : "_self"
                  },
                  "appToken" : {
                    "type" : "constant"
                  },
                  "urlParams" : {
                    "type" : "constant"
                  },
                  "alignment" : {
                    "type" : "constant",
                    "value" : "left"
                  },
                  "buttonStyle" : {
                    "type" : "constant",
                    "value" : "warning"
                  }
                },
                "reference" : "f492afa7-aaf3-4861-9f67-b57c2fe24710",
                "hasValidationError" : false,
                "id" : "pbLink"
              }
            ],
            [
              {
                "type" : "component",
                "dimension" : {
                  "xs" : 12,
                  "sm" : 12,
                  "md" : 12,
                  "lg" : 12
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : "alert alert-danger"
                  },
                  "hidden" : {
                    "type" : "expression",
                    "value" : "submitError == null"
                  },
                  "allowHTML" : {
                    "type" : "constant",
                    "value" : true
                  },
                  "text" : {
                    "type" : "interpolation",
                    "value" : "Erreur : impossible d'effectuer la tâche -  Rafraichir la page et essayer à nouveau. <br> {{ submitError }}"
                  },
                  "alignment" : {
                    "type" : "constant",
                    "value" : "left"
                  },
                  "labelHidden" : {
                    "type" : "constant",
                    "value" : true
                  },
                  "label" : {
                    "type" : "interpolation",
                    "value" : ""
                  },
                  "labelPosition" : {
                    "type" : "constant",
                    "value" : "top"
                  },
                  "labelWidth" : {
                    "type" : "constant",
                    "value" : 4
                  }
                },
                "reference" : "9160d553-1907-42d7-94e1-0b1e138b124c",
                "hasValidationError" : false,
                "id" : "pbText"
              }
            ]
          ]
        }
      }
    ]
  ],
  "assets" : [
    {
      "id" : "00ddf819-9cf7-4692-b4c2-ef0db791d919",
      "name" : "localization.json",
      "type" : "json",
      "order" : 0,
      "external" : false
    },
    {
      "id" : "cfa5356e-9db6-4cb0-8539-150a83a06f74",
      "name" : "style.css",
      "type" : "css",
      "order" : 0,
      "external" : false
    }
  ],
  "inactiveAssets" : [ ],
  "variables" : {
    "urlGetCommande" : {
      "type" : "expression",
      "value" : [
        "return \"../\" + $data.context.currentCommande_ref.link;"
      ],
      "exposed" : false
    },
    "getCommentsURL" : {
      "type" : "expression",
      "value" : [
        "if ($data.propositionInput && $data.propositionInput.persistenceId){\r",
        "    return \"../API/bdm/businessData/com.sgdbf.model.Proposition/\"\r",
        "        + $data.propositionInput.persistenceId\r",
        "        +\"/comments\";\r",
        "}"
      ],
      "exposed" : false
    },
    "getprocessParameter" : {
      "type" : "url",
      "value" : [
        "../API/bpm/processParameter/{{processId}}/baseURL"
      ],
      "exposed" : false
    },
    "session" : {
      "type" : "url",
      "value" : [
        "../API/system/session/1"
      ],
      "exposed" : false
    },
    "urlPropositionInput" : {
      "type" : "expression",
      "value" : [
        "return \"../\" + $data.context.currentProposition_ref.link;"
      ],
      "exposed" : false
    },
    "commande" : {
      "type" : "url",
      "value" : [
        "{{urlGetCommande}}"
      ],
      "exposed" : false
    },
    "getCurrentProcessInfo" : {
      "type" : "url",
      "value" : [
        "../API/bpm/process?s=POP3P_DxxConfirmationCommande&o=deploymentDate%20DESC&c=1"
      ],
      "exposed" : false
    },
    "propositionInput" : {
      "type" : "url",
      "value" : [
        "{{ urlPropositionInput }}"
      ],
      "exposed" : false
    },
    "submitError" : {
      "type" : "constant",
      "exposed" : false
    },
    "baseURL" : {
      "type" : "expression",
      "value" : [
        "return $data.getprocessParameter.value;"
      ],
      "exposed" : false
    },
    "task" : {
      "type" : "url",
      "value" : [
        "../API/bpm/userTask/{{taskId}}"
      ],
      "exposed" : false
    },
    "processId" : {
      "type" : "expression",
      "value" : [
        "return $data.getCurrentProcessInfo[0].id;"
      ],
      "exposed" : false
    },
    "formOutput" : {
      "type" : "expression",
      "value" : [
        "return {",
        "    dateConfirmation : $data.commande.estimateDate, ",
        "    \"user_name\" : $data.session.user_name",
        "};"
      ],
      "exposed" : false
    },
    "context" : {
      "type" : "url",
      "value" : [
        "../API/bpm/userTask/{{taskId}}/context"
      ],
      "exposed" : false
    },
    "getComments" : {
      "type" : "url",
      "value" : [
        "{{ getCommentsURL }}"
      ],
      "exposed" : false
    },
    "urlFindPropositionHistory" : {
      "type" : "expression",
      "value" : [
        "return \"../API/bdm/businessData/com.sgdbf.model.TimeLine?p=0&c=100&\"\r",
        "+ \"q=getByPropId&f=IdProposition=\"+$data.propositionInput.persistenceId;"
      ],
      "exposed" : false
    },
    "targetURL" : {
      "type" : "expression",
      "value" : [
        "if($data.task.displayName.includes(\"LAC\"))\r",
        "{\r",
        "    \r",
        "    return \"/bonita/apps/lac/homePageLac/\";\r",
        "}\r",
        "else\r",
        "{\r",
        "    return \"/bonita/apps/BO/homePage/\";\r",
        "}"
      ],
      "exposed" : false
    },
    "assignTaskPayload" : {
      "type" : "expression",
      "value" : [
        "return { 'assigned_id' : $data.session.user_id };"
      ],
      "exposed" : false
    },
    "taskId" : {
      "type" : "urlparameter",
      "value" : [
        "id"
      ],
      "exposed" : false
    }
  },
  "hasValidationError" : false,
  "uuid" : "0582381e-6d84-4374-ad9b-452fa1dcae48",
  "type" : "form",
  "description" : "Page generated with Bonita UI designer"
}