{
  "modelVersion" : "2.2",
  "previousArtifactVersion" : "2.0",
  "id" : "LaunchDDDRenouvellementForm",
  "name" : "LaunchDDDRenouvellementForm",
  "lastUpdate" : 1671627900801,
  "rows" : [
    [
      {
        "type" : "container",
        "dimension" : {
          "xs" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "repeatedCollection" : {
            "type" : "variable"
          }
        },
        "reference" : "0ca14583-a981-46ec-ba60-66a7c6076bc7",
        "hasValidationError" : false,
        "id" : "pbContainer",
        "rows" : [
          [
            {
              "type" : "component",
              "dimension" : {
                "md" : 12,
                "sm" : 12,
                "xs" : 12,
                "lg" : 12
              },
              "propertyValues" : {
                "labelHidden" : {
                  "type" : "constant",
                  "value" : false
                },
                "readonly" : {
                  "type" : "constant",
                  "value" : false
                },
                "level" : {
                  "type" : "constant",
                  "value" : "Level 3"
                },
                "cssClasses" : {
                  "type" : "constant",
                  "value" : ""
                },
                "widgetId" : {
                  "type" : "constant",
                  "value" : "pbTitle"
                },
                "isDisplayed" : {
                  "type" : "constant",
                  "value" : true
                },
                "label" : {
                  "type" : "constant"
                },
                "text" : {
                  "type" : "interpolation",
                  "value" : "{{ task.displayName }}"
                },
                "alignment" : {
                  "type" : "constant",
                  "value" : "left"
                },
                "class" : {
                  "type" : "constant",
                  "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.TitleWidget"
                },
                "dimension" : {
                  "type" : "constant",
                  "value" : 12
                },
                "hidden" : {
                  "type" : "constant",
                  "value" : false
                }
              },
              "reference" : "a533b530-12a2-4f76-9f2d-ed140e242ad5",
              "hasValidationError" : false,
              "id" : "pbTitle"
            }
          ],
          [
            {
              "type" : "component",
              "dimension" : {
                "md" : 12,
                "sm" : 12,
                "xs" : 12,
                "lg" : 12
              },
              "propertyValues" : {
                "labelHidden" : {
                  "type" : "constant",
                  "value" : false
                },
                "readonly" : {
                  "type" : "constant",
                  "value" : false
                },
                "cssClasses" : {
                  "type" : "constant",
                  "value" : ""
                },
                "widgetId" : {
                  "type" : "constant",
                  "value" : "pbText"
                },
                "isDisplayed" : {
                  "type" : "constant",
                  "value" : true
                },
                "label" : {
                  "type" : "constant"
                },
                "text" : {
                  "type" : "interpolation",
                  "value" : "{{ task.displayDescription }}"
                },
                "alignment" : {
                  "type" : "constant",
                  "value" : "left"
                },
                "class" : {
                  "type" : "constant",
                  "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.TextWidget"
                },
                "dimension" : {
                  "type" : "constant",
                  "value" : 12
                },
                "hidden" : {
                  "type" : "constant",
                  "value" : false
                },
                "allowHTML" : {
                  "type" : "constant",
                  "value" : true
                },
                "labelPosition" : {
                  "type" : "constant",
                  "value" : "top"
                },
                "labelWidth" : {
                  "type" : "constant",
                  "value" : 4
                }
              },
              "reference" : "bde81b5d-3dfd-4a78-ba1a-446505b8aa50",
              "hasValidationError" : false,
              "id" : "pbText"
            }
          ],
          [
            {
              "type" : "component",
              "dimension" : {
                "xs" : 12,
                "sm" : 12,
                "md" : 12,
                "lg" : 12
              },
              "propertyValues" : {
                "cssClasses" : {
                  "type" : "constant",
                  "value" : ""
                },
                "hidden" : {
                  "type" : "expression",
                  "value" : "task.dueDate === \"\""
                },
                "text" : {
                  "type" : "interpolation",
                  "value" : "Tâche requise pour le {{ task.dueDate.substring(0, 10) }}"
                },
                "alignment" : {
                  "type" : "constant",
                  "value" : "left"
                },
                "allowHTML" : {
                  "type" : "constant",
                  "value" : true
                },
                "labelHidden" : {
                  "type" : "constant",
                  "value" : true
                },
                "label" : {
                  "type" : "interpolation",
                  "value" : ""
                },
                "labelPosition" : {
                  "type" : "constant",
                  "value" : "top"
                },
                "labelWidth" : {
                  "type" : "constant",
                  "value" : 4
                }
              },
              "reference" : "3914a646-e8c3-4c8e-8d51-4c1fb96544d1",
              "hasValidationError" : false,
              "id" : "pbText"
            }
          ],
          [
            {
              "type" : "component",
              "dimension" : {
                "xs" : 12,
                "sm" : 12,
                "md" : 12,
                "lg" : 12
              },
              "propertyValues" : {
                "cssClasses" : {
                  "type" : "constant",
                  "value" : ""
                },
                "hidden" : {
                  "type" : "expression",
                  "value" : "task.dueDate !== \"\""
                },
                "text" : {
                  "type" : "interpolation",
                  "value" : "Pas de date de définie pour la tâche."
                },
                "alignment" : {
                  "type" : "constant",
                  "value" : "left"
                },
                "allowHTML" : {
                  "type" : "constant",
                  "value" : true
                },
                "labelHidden" : {
                  "type" : "constant",
                  "value" : true
                },
                "label" : {
                  "type" : "interpolation",
                  "value" : ""
                },
                "labelPosition" : {
                  "type" : "constant",
                  "value" : "top"
                },
                "labelWidth" : {
                  "type" : "constant",
                  "value" : 4
                }
              },
              "reference" : "d37d3b4f-6162-44e7-a1d9-868946a3e50a",
              "hasValidationError" : false,
              "id" : "pbText"
            }
          ]
        ]
      }
    ],
    [
      {
        "type" : "formContainer",
        "dimension" : {
          "xs" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          }
        },
        "reference" : "829b5603-9854-4005-bd6b-47defecf1b52",
        "hasValidationError" : false,
        "id" : "pbFormContainer",
        "container" : {
          "type" : "container",
          "dimension" : {
            "xs" : 12
          },
          "propertyValues" : { },
          "reference" : "0f0dd52c-260d-4075-bfda-edad728f2778",
          "hasValidationError" : false,
          "id" : "pbContainer",
          "rows" : [
            [
              {
                "type" : "fragment",
                "dimension" : {
                  "xs" : 12,
                  "sm" : 12,
                  "md" : 12,
                  "lg" : 12
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : ""
                  },
                  "hidden" : {
                    "type" : "constant",
                    "value" : false
                  }
                },
                "reference" : "8424b41f-f175-4043-98a7-25730b960f57",
                "hasValidationError" : false,
                "id" : "47a6184d-b2e8-423e-bc95-1b9855b4ce74",
                "binding" : {
                  "session" : "getSession",
                  "selectedTerritory" : "selectedTerritory",
                  "selectedAgency" : "selectedAgency",
                  "formInput" : "formInput",
                  "formOutput" : "formOutput",
                  "proposition" : "proposition",
                  "isSelectedTransfertAgencyExposed" : "isSelectedTransfertAgencyExposed",
                  "invalidAmounts" : "invalidAmounts"
                }
              }
            ],
            [
              {
                "type" : "container",
                "dimension" : {
                  "xs" : 12,
                  "sm" : 12,
                  "md" : 12,
                  "lg" : 12
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : ""
                  },
                  "hidden" : {
                    "type" : "expression",
                    "value" : "!isTargetSameAsOrigin"
                  },
                  "repeatedCollection" : {
                    "type" : "variable",
                    "value" : ""
                  }
                },
                "reference" : "ab140e50-8ca7-4c35-a5ca-cec43b623ca2",
                "hasValidationError" : false,
                "id" : "pbContainer",
                "rows" : [
                  [
                    {
                      "type" : "component",
                      "dimension" : {
                        "xs" : 12,
                        "sm" : 12,
                        "md" : 12,
                        "lg" : 12
                      },
                      "propertyValues" : {
                        "cssClasses" : {
                          "type" : "constant",
                          "value" : ""
                        },
                        "hidden" : {
                          "type" : "constant",
                          "value" : false
                        },
                        "text" : {
                          "type" : "interpolation",
                          "value" : "<span class=\"glyphicon glyphicon-remove-sign text-danger btn-lg\"></span>\n<span class=\"text-danger \">\nL'agence de transfert doit être différente de l'agence émétrice. Vous pouvez seulement l'enregistrer en tant que brouillon.\n</span>"
                        },
                        "alignment" : {
                          "type" : "constant",
                          "value" : "left"
                        },
                        "allowHTML" : {
                          "type" : "constant",
                          "value" : true
                        },
                        "labelHidden" : {
                          "type" : "constant",
                          "value" : true
                        },
                        "label" : {
                          "type" : "interpolation",
                          "value" : ""
                        },
                        "labelPosition" : {
                          "type" : "constant",
                          "value" : "top"
                        },
                        "labelWidth" : {
                          "type" : "constant",
                          "value" : 4
                        }
                      },
                      "reference" : "d0673b42-6781-42f2-8f39-7f2df770c1f6",
                      "hasValidationError" : false,
                      "id" : "pbText"
                    }
                  ]
                ]
              }
            ],
            [
              {
                "type" : "component",
                "dimension" : {
                  "xs" : 12,
                  "sm" : 12,
                  "md" : 12,
                  "lg" : 12
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : ""
                  },
                  "hidden" : {
                    "type" : "constant",
                    "value" : true
                  },
                  "text" : {
                    "type" : "interpolation",
                    "value" : "<pre> {{ proposition | json }}"
                  },
                  "alignment" : {
                    "type" : "constant",
                    "value" : "left"
                  },
                  "allowHTML" : {
                    "type" : "constant",
                    "value" : true
                  },
                  "labelHidden" : {
                    "type" : "constant",
                    "value" : true
                  },
                  "label" : {
                    "type" : "interpolation",
                    "value" : ""
                  },
                  "labelPosition" : {
                    "type" : "constant",
                    "value" : "top"
                  },
                  "labelWidth" : {
                    "type" : "constant",
                    "value" : 4
                  }
                },
                "reference" : "b96318d6-0c98-45ca-80cb-27d44cb94634",
                "hasValidationError" : false,
                "id" : "pbText"
              }
            ],
            [
              {
                "type" : "container",
                "dimension" : {
                  "xs" : 12,
                  "sm" : 12,
                  "md" : 12,
                  "lg" : 12
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : "list-group"
                  },
                  "hidden" : {
                    "type" : "constant",
                    "value" : false
                  },
                  "repeatedCollection" : {
                    "type" : "variable",
                    "value" : ""
                  }
                },
                "reference" : "4c9652fa-11c9-408e-9d55-61ae8edcbd24",
                "hasValidationError" : false,
                "id" : "pbContainer",
                "rows" : [
                  [
                    {
                      "type" : "container",
                      "dimension" : {
                        "xs" : 12,
                        "sm" : 12,
                        "md" : 12,
                        "lg" : 12
                      },
                      "propertyValues" : {
                        "cssClasses" : {
                          "type" : "constant",
                          "value" : "list-group-item"
                        },
                        "hidden" : {
                          "type" : "constant",
                          "value" : false
                        },
                        "repeatedCollection" : {
                          "type" : "variable",
                          "value" : ""
                        }
                      },
                      "reference" : "6783a7fa-a486-447d-81e7-1fa0c8b4f201",
                      "hasValidationError" : false,
                      "id" : "pbContainer",
                      "rows" : [
                        [
                          {
                            "type" : "component",
                            "dimension" : {
                              "xs" : 12,
                              "sm" : 12,
                              "md" : 4,
                              "lg" : 4
                            },
                            "propertyValues" : {
                              "cssClasses" : {
                                "type" : "constant",
                                "value" : ""
                              },
                              "hidden" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "disabled" : {
                                "type" : "expression",
                                "value" : "$form.$invalid || invalidAmounts"
                              },
                              "label" : {
                                "type" : "interpolation",
                                "value" : "Enregistrer en tant que brouillon"
                              },
                              "alignment" : {
                                "type" : "constant",
                                "value" : "right"
                              },
                              "buttonStyle" : {
                                "type" : "constant",
                                "value" : "warning"
                              },
                              "action" : {
                                "type" : "constant",
                                "value" : "Submit task"
                              },
                              "url" : {
                                "type" : "interpolation"
                              },
                              "dataToSend" : {
                                "type" : "expression",
                                "value" : "formOutputDraft"
                              },
                              "dataFromSuccess" : {
                                "type" : "variable",
                                "value" : ""
                              },
                              "dataFromError" : {
                                "type" : "variable",
                                "value" : "errorMessage"
                              },
                              "targetUrlOnSuccess" : {
                                "type" : "interpolation",
                                "value" : "/bonita/apps/pop3p"
                              },
                              "collectionToModify" : {
                                "type" : "variable"
                              },
                              "collectionPosition" : {
                                "type" : "constant",
                                "value" : "Last"
                              },
                              "valueToAdd" : {
                                "type" : "constant"
                              },
                              "removeItem" : {
                                "type" : "variable"
                              },
                              "closeOnSuccess" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "modalId" : {
                                "type" : "constant",
                                "value" : ""
                              },
                              "assign" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "responseStatusCode" : {
                                "type" : "variable",
                                "value" : ""
                              }
                            },
                            "reference" : "3add0371-01f5-43ab-9279-802ab708818e",
                            "hasValidationError" : false,
                            "id" : "pbButton"
                          },
                          {
                            "type" : "container",
                            "dimension" : {
                              "xs" : 12,
                              "sm" : 12,
                              "md" : 4,
                              "lg" : 4
                            },
                            "propertyValues" : {
                              "cssClasses" : {
                                "type" : "constant",
                                "value" : ""
                              },
                              "hidden" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "repeatedCollection" : {
                                "type" : "variable"
                              }
                            },
                            "reference" : "e1270ad9-d389-4f87-a2a3-0b4df5c1e7ac",
                            "hasValidationError" : false,
                            "id" : "pbContainer",
                            "rows" : [
                              [
                                {
                                  "type" : "component",
                                  "dimension" : {
                                    "md" : 12,
                                    "sm" : 12,
                                    "xs" : 12,
                                    "lg" : 12
                                  },
                                  "propertyValues" : {
                                    "removeItem" : {
                                      "type" : "variable"
                                    },
                                    "cssClasses" : {
                                      "type" : "constant",
                                      "value" : ""
                                    },
                                    "widgetId" : {
                                      "type" : "constant",
                                      "value" : "pbButton"
                                    },
                                    "buttonStyle" : {
                                      "type" : "constant",
                                      "value" : "primary"
                                    },
                                    "isDisplayed" : {
                                      "type" : "constant",
                                      "value" : true
                                    },
                                    "label" : {
                                      "type" : "constant",
                                      "value" : "Soumettre la proposition"
                                    },
                                    "dataToSend" : {
                                      "type" : "expression",
                                      "value" : "formOutput"
                                    },
                                    "labelHidden" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "readonly" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "collectionPosition" : {
                                      "type" : "constant"
                                    },
                                    "targetUrlOnSuccess" : {
                                      "type" : "interpolation",
                                      "value" : "/bonita/apps/pop3p"
                                    },
                                    "action" : {
                                      "type" : "constant",
                                      "value" : "Submit task"
                                    },
                                    "collectionToModify" : {
                                      "type" : "variable"
                                    },
                                    "valueToAdd" : {
                                      "type" : "expression"
                                    },
                                    "disabled" : {
                                      "type" : "expression",
                                      "value" : "$form.$invalid || (proposition.typeProposition === \"Transfert\" && !isSelectedTransfertAgencyExposed) || isTargetSameAsOrigin || invalidAmounts"
                                    },
                                    "alignment" : {
                                      "type" : "constant",
                                      "value" : "center"
                                    },
                                    "class" : {
                                      "type" : "constant",
                                      "value" : "org.bonitasoft.web.designer.experimental.parametrizedWidget.ButtonWidget"
                                    },
                                    "dimension" : {
                                      "type" : "constant",
                                      "value" : 12
                                    },
                                    "hidden" : {
                                      "type" : "expression",
                                      "value" : "hasADefinirTypeAcquisition"
                                    },
                                    "url" : {
                                      "type" : "interpolation"
                                    },
                                    "dataFromSuccess" : {
                                      "type" : "variable",
                                      "value" : ""
                                    },
                                    "dataFromError" : {
                                      "type" : "variable",
                                      "value" : "errorMessage"
                                    },
                                    "closeOnSuccess" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "modalId" : {
                                      "type" : "constant",
                                      "value" : ""
                                    },
                                    "assign" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "responseStatusCode" : {
                                      "type" : "variable",
                                      "value" : ""
                                    }
                                  },
                                  "reference" : "1aa6e48c-57cf-41ee-9240-01d6ff8e96e1",
                                  "hasValidationError" : false,
                                  "id" : "pbButton"
                                }
                              ],
                              [
                                {
                                  "type" : "component",
                                  "dimension" : {
                                    "xs" : 12,
                                    "sm" : 12,
                                    "md" : 12,
                                    "lg" : 12
                                  },
                                  "propertyValues" : {
                                    "cssClasses" : {
                                      "type" : "constant",
                                      "value" : ""
                                    },
                                    "hidden" : {
                                      "type" : "expression",
                                      "value" : "!hasADefinirTypeAcquisition"
                                    },
                                    "disabled" : {
                                      "type" : "expression",
                                      "value" : "$form.$invalid || (proposition.typeProposition === \"Transfert\" && !isSelectedTransfertAgencyExposed) || isTargetSameAsOrigin || invalidAmounts"
                                    },
                                    "label" : {
                                      "type" : "interpolation",
                                      "value" : "Soumettre la proposition"
                                    },
                                    "alignment" : {
                                      "type" : "constant",
                                      "value" : "center"
                                    },
                                    "buttonStyle" : {
                                      "type" : "constant",
                                      "value" : "primary"
                                    },
                                    "action" : {
                                      "type" : "constant",
                                      "value" : "Add to collection"
                                    },
                                    "url" : {
                                      "type" : "interpolation"
                                    },
                                    "dataToSend" : {
                                      "type" : "constant"
                                    },
                                    "dataFromSuccess" : {
                                      "type" : "variable"
                                    },
                                    "dataFromError" : {
                                      "type" : "variable"
                                    },
                                    "targetUrlOnSuccess" : {
                                      "type" : "interpolation"
                                    },
                                    "collectionToModify" : {
                                      "type" : "variable",
                                      "value" : "propositionData"
                                    },
                                    "collectionPosition" : {
                                      "type" : "constant",
                                      "value" : "First"
                                    },
                                    "valueToAdd" : {
                                      "type" : "expression",
                                      "value" : "displayADefinirPopup"
                                    },
                                    "removeItem" : {
                                      "type" : "variable"
                                    },
                                    "closeOnSuccess" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "modalId" : {
                                      "type" : "constant",
                                      "value" : ""
                                    },
                                    "assign" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "responseStatusCode" : {
                                      "type" : "variable"
                                    }
                                  },
                                  "reference" : "691cfdaa-4d85-4f0c-bd47-e9310aca8220",
                                  "hasValidationError" : false,
                                  "id" : "pbButton"
                                }
                              ]
                            ]
                          },
                          {
                            "type" : "component",
                            "dimension" : {
                              "xs" : 12,
                              "sm" : 12,
                              "md" : 4,
                              "lg" : 4
                            },
                            "propertyValues" : {
                              "cssClasses" : {
                                "type" : "constant",
                                "value" : ""
                              },
                              "hidden" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "text" : {
                                "type" : "interpolation",
                                "value" : "Annuler"
                              },
                              "type" : {
                                "type" : "constant",
                                "value" : "page"
                              },
                              "targetUrl" : {
                                "type" : "constant",
                                "value" : "../apps/pop3p/homePage/"
                              },
                              "pageToken" : {
                                "type" : "constant",
                                "value" : "homePage"
                              },
                              "processName" : {
                                "type" : "constant"
                              },
                              "processVersion" : {
                                "type" : "constant"
                              },
                              "taskId" : {
                                "type" : "constant"
                              },
                              "caseId" : {
                                "type" : "constant"
                              },
                              "target" : {
                                "type" : "constant",
                                "value" : "_self"
                              },
                              "appToken" : {
                                "type" : "constant"
                              },
                              "urlParams" : {
                                "type" : "constant"
                              },
                              "alignment" : {
                                "type" : "constant",
                                "value" : "left"
                              },
                              "buttonStyle" : {
                                "type" : "constant",
                                "value" : "warning"
                              }
                            },
                            "reference" : "ca7f3caa-f83e-451e-a679-e4dfb9f8c3ed",
                            "hasValidationError" : false,
                            "id" : "pbLink"
                          }
                        ]
                      ]
                    }
                  ],
                  [
                    {
                      "type" : "container",
                      "dimension" : {
                        "xs" : 12,
                        "sm" : 12,
                        "md" : 12,
                        "lg" : 12
                      },
                      "propertyValues" : {
                        "cssClasses" : {
                          "type" : "constant",
                          "value" : "list-group-item"
                        },
                        "hidden" : {
                          "type" : "constant",
                          "value" : false
                        },
                        "repeatedCollection" : {
                          "type" : "variable"
                        }
                      },
                      "reference" : "e93403e1-3a4c-4e9a-b6be-f5c7c5790ce3",
                      "hasValidationError" : false,
                      "id" : "pbContainer",
                      "rows" : [
                        [
                          {
                            "type" : "component",
                            "dimension" : {
                              "xs" : 12,
                              "sm" : 12,
                              "md" : 12,
                              "lg" : 12
                            },
                            "propertyValues" : {
                              "cssClasses" : {
                                "type" : "constant",
                                "value" : ""
                              },
                              "hidden" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "disabled" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "label" : {
                                "type" : "interpolation",
                                "value" : "DDD sans suites"
                              },
                              "alignment" : {
                                "type" : "constant",
                                "value" : "center"
                              },
                              "buttonStyle" : {
                                "type" : "constant",
                                "value" : "danger"
                              },
                              "action" : {
                                "type" : "constant",
                                "value" : "Add to collection"
                              },
                              "url" : {
                                "type" : "interpolation"
                              },
                              "dataToSend" : {
                                "type" : "expression",
                                "value" : "test = \"bonjour\""
                              },
                              "dataFromSuccess" : {
                                "type" : "variable"
                              },
                              "dataFromError" : {
                                "type" : "variable"
                              },
                              "targetUrlOnSuccess" : {
                                "type" : "interpolation",
                                "value" : "/bonita/apps/pop3p"
                              },
                              "collectionToModify" : {
                                "type" : "variable",
                                "value" : "propositionData"
                              },
                              "collectionPosition" : {
                                "type" : "constant",
                                "value" : "First"
                              },
                              "valueToAdd" : {
                                "type" : "expression",
                                "value" : "displayRefus"
                              },
                              "removeItem" : {
                                "type" : "variable"
                              },
                              "closeOnSuccess" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "modalId" : {
                                "type" : "constant",
                                "value" : ""
                              }
                            },
                            "reference" : "d34d9661-5375-4b71-a4ca-33c032af15a0",
                            "hasValidationError" : false,
                            "id" : "pbButton"
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ],
            [
              {
                "type" : "container",
                "dimension" : {
                  "xs" : 12,
                  "sm" : 12,
                  "md" : 12,
                  "lg" : 12
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : ""
                  },
                  "hidden" : {
                    "type" : "expression",
                    "value" : "!propositionData || !propositionData[0].hasOwnProperty('propositionStatus')"
                  },
                  "repeatedCollection" : {
                    "type" : "variable",
                    "value" : ""
                  }
                },
                "reference" : "9ec04454-8253-4ad3-b338-b5b72db81777",
                "hasValidationError" : false,
                "id" : "pbContainer",
                "rows" : [
                  [
                    {
                      "type" : "container",
                      "dimension" : {
                        "xs" : 12,
                        "sm" : 12,
                        "md" : 12,
                        "lg" : 12
                      },
                      "propertyValues" : {
                        "cssClasses" : {
                          "type" : "constant",
                          "value" : "Modal-overlay"
                        },
                        "hidden" : {
                          "type" : "constant",
                          "value" : false
                        },
                        "repeatedCollection" : {
                          "type" : "variable",
                          "value" : ""
                        }
                      },
                      "reference" : "f770dc6c-4ffc-446f-99b3-0f8d428596fb",
                      "hasValidationError" : false,
                      "id" : "pbContainer",
                      "rows" : [
                        [
                          {
                            "type" : "container",
                            "dimension" : {
                              "xs" : 12,
                              "sm" : 12,
                              "md" : 12,
                              "lg" : 12
                            },
                            "propertyValues" : {
                              "cssClasses" : {
                                "type" : "constant",
                                "value" : "Modal-content"
                              },
                              "hidden" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "repeatedCollection" : {
                                "type" : "variable",
                                "value" : ""
                              }
                            },
                            "reference" : "5b8d585e-a452-4a76-8229-93036e2a49ca",
                            "hasValidationError" : false,
                            "id" : "pbContainer",
                            "rows" : [
                              [
                                {
                                  "type" : "component",
                                  "dimension" : {
                                    "xs" : 12,
                                    "sm" : 12,
                                    "md" : 12,
                                    "lg" : 12
                                  },
                                  "propertyValues" : {
                                    "cssClasses" : {
                                      "type" : "constant",
                                      "value" : ""
                                    },
                                    "hidden" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "text" : {
                                      "type" : "interpolation",
                                      "value" : "Confirmation {{ propositionData[0].title }}"
                                    },
                                    "level" : {
                                      "type" : "constant",
                                      "value" : "Level 4"
                                    },
                                    "alignment" : {
                                      "type" : "constant",
                                      "value" : "left"
                                    }
                                  },
                                  "reference" : "06eab821-e7a3-4204-9fb1-77f95f20d793",
                                  "hasValidationError" : false,
                                  "id" : "pbTitle"
                                }
                              ],
                              [
                                {
                                  "type" : "container",
                                  "dimension" : {
                                    "xs" : 12,
                                    "sm" : 12,
                                    "md" : 12,
                                    "lg" : 12
                                  },
                                  "propertyValues" : {
                                    "cssClasses" : {
                                      "type" : "constant",
                                      "value" : ""
                                    },
                                    "hidden" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "repeatedCollection" : {
                                      "type" : "variable"
                                    }
                                  },
                                  "reference" : "02c22770-9bd9-493f-87c9-b011c1285fe9",
                                  "hasValidationError" : false,
                                  "id" : "pbContainer",
                                  "rows" : [
                                    [
                                      {
                                        "type" : "component",
                                        "dimension" : {
                                          "xs" : 12,
                                          "sm" : 12,
                                          "md" : 12,
                                          "lg" : 12
                                        },
                                        "propertyValues" : {
                                          "cssClasses" : {
                                            "type" : "constant",
                                            "value" : ""
                                          },
                                          "hidden" : {
                                            "type" : "constant",
                                            "value" : false
                                          },
                                          "readOnly" : {
                                            "type" : "constant",
                                            "value" : false
                                          },
                                          "required" : {
                                            "type" : "constant",
                                            "value" : true
                                          },
                                          "minLength" : {
                                            "type" : "constant",
                                            "value" : ""
                                          },
                                          "maxLength" : {
                                            "type" : "constant",
                                            "value" : ""
                                          },
                                          "labelHidden" : {
                                            "type" : "constant",
                                            "value" : false
                                          },
                                          "label" : {
                                            "type" : "interpolation",
                                            "value" : "Motif {{ propositionData[0].motif}}"
                                          },
                                          "labelPosition" : {
                                            "type" : "constant",
                                            "value" : "top"
                                          },
                                          "labelWidth" : {
                                            "type" : "constant",
                                            "value" : 5
                                          },
                                          "value" : {
                                            "type" : "variable",
                                            "value" : "commentInput"
                                          }
                                        },
                                        "reference" : "ec579e0a-a20f-4f05-9960-d1d1810df0e4",
                                        "hasValidationError" : false,
                                        "id" : "pbTextarea"
                                      }
                                    ],
                                    [
                                      {
                                        "type" : "component",
                                        "dimension" : {
                                          "xs" : 12,
                                          "sm" : 12,
                                          "md" : 7,
                                          "lg" : 6
                                        },
                                        "propertyValues" : {
                                          "cssClasses" : {
                                            "type" : "constant",
                                            "value" : ""
                                          },
                                          "hidden" : {
                                            "type" : "constant",
                                            "value" : false
                                          },
                                          "disabled" : {
                                            "type" : "expression",
                                            "value" : "commentInput == null"
                                          },
                                          "label" : {
                                            "type" : "interpolation",
                                            "value" : "Confirmer {{ propositionData[0].buttonName}}"
                                          },
                                          "alignment" : {
                                            "type" : "constant",
                                            "value" : "right"
                                          },
                                          "buttonStyle" : {
                                            "type" : "constant",
                                            "value" : "danger"
                                          },
                                          "action" : {
                                            "type" : "constant",
                                            "value" : "Submit task"
                                          },
                                          "url" : {
                                            "type" : "interpolation",
                                            "value" : "../API/extension/executeTask?taskId={{refusProposition.taskId}}"
                                          },
                                          "dataToSend" : {
                                            "type" : "expression",
                                            "value" : "formOutputOther"
                                          },
                                          "dataFromSuccess" : {
                                            "type" : "variable",
                                            "value" : ""
                                          },
                                          "dataFromError" : {
                                            "type" : "variable",
                                            "value" : ""
                                          },
                                          "targetUrlOnSuccess" : {
                                            "type" : "interpolation",
                                            "value" : "/bonita/apps/pop3p"
                                          },
                                          "collectionToModify" : {
                                            "type" : "variable"
                                          },
                                          "collectionPosition" : {
                                            "type" : "constant",
                                            "value" : "Last"
                                          },
                                          "valueToAdd" : {
                                            "type" : "constant"
                                          },
                                          "removeItem" : {
                                            "type" : "variable"
                                          },
                                          "closeOnSuccess" : {
                                            "type" : "constant",
                                            "value" : false
                                          },
                                          "modalId" : {
                                            "type" : "constant",
                                            "value" : ""
                                          }
                                        },
                                        "reference" : "203a7c45-427e-43bf-bf4e-848fe497857e",
                                        "hasValidationError" : false,
                                        "id" : "pbButton"
                                      },
                                      {
                                        "type" : "component",
                                        "dimension" : {
                                          "xs" : 12,
                                          "sm" : 12,
                                          "md" : 5,
                                          "lg" : 6
                                        },
                                        "propertyValues" : {
                                          "cssClasses" : {
                                            "type" : "constant",
                                            "value" : ""
                                          },
                                          "hidden" : {
                                            "type" : "constant",
                                            "value" : false
                                          },
                                          "disabled" : {
                                            "type" : "constant",
                                            "value" : false
                                          },
                                          "label" : {
                                            "type" : "interpolation",
                                            "value" : "Fermer"
                                          },
                                          "alignment" : {
                                            "type" : "constant",
                                            "value" : "right"
                                          },
                                          "buttonStyle" : {
                                            "type" : "constant",
                                            "value" : "default"
                                          },
                                          "action" : {
                                            "type" : "constant",
                                            "value" : "Remove from collection"
                                          },
                                          "url" : {
                                            "type" : "interpolation"
                                          },
                                          "dataToSend" : {
                                            "type" : "constant"
                                          },
                                          "dataFromSuccess" : {
                                            "type" : "variable"
                                          },
                                          "dataFromError" : {
                                            "type" : "variable"
                                          },
                                          "targetUrlOnSuccess" : {
                                            "type" : "interpolation"
                                          },
                                          "collectionToModify" : {
                                            "type" : "variable",
                                            "value" : "propositionData"
                                          },
                                          "collectionPosition" : {
                                            "type" : "constant",
                                            "value" : "First"
                                          },
                                          "valueToAdd" : {
                                            "type" : "constant"
                                          },
                                          "removeItem" : {
                                            "type" : "variable"
                                          },
                                          "closeOnSuccess" : {
                                            "type" : "constant",
                                            "value" : false
                                          },
                                          "modalId" : {
                                            "type" : "constant",
                                            "value" : ""
                                          }
                                        },
                                        "reference" : "351f0a89-4088-485c-992a-29d00a4817c4",
                                        "hasValidationError" : false,
                                        "id" : "pbButton"
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ]
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ],
            [
              {
                "type" : "container",
                "dimension" : {
                  "xs" : 12,
                  "sm" : 12,
                  "md" : 2,
                  "lg" : 2
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : ""
                  },
                  "hidden" : {
                    "type" : "constant",
                    "value" : false
                  },
                  "repeatedCollection" : {
                    "type" : "variable"
                  }
                },
                "reference" : "a3153d65-db27-4f99-b6b8-5e40b8207198",
                "hasValidationError" : false,
                "id" : "pbContainer",
                "rows" : [
                  [ ]
                ]
              },
              {
                "type" : "fragment",
                "dimension" : {
                  "xs" : 12,
                  "sm" : 12,
                  "md" : 8,
                  "lg" : 8
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : ""
                  },
                  "hidden" : {
                    "type" : "expression",
                    "value" : "!propositionData || !propositionData[0].hasOwnProperty('displayPopUp')"
                  }
                },
                "reference" : "5f8948da-a51b-4fe7-8f9d-4ec891bc8559",
                "hasValidationError" : false,
                "id" : "f7666fd9-8c7d-425d-b5fc-9a7af93572bf",
                "binding" : {
                  "displayPopupTypeAcquisitionMessage" : "displayPopupTypeAcquisitionMessage",
                  "formOutput" : "formOutput",
                  "propositionData" : "propositionData",
                  "errorMessage" : "errorMessage",
                  "typeWorkflow" : ""
                }
              }
            ]
          ]
        }
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : true
          },
          "text" : {
            "type" : "interpolation",
            "value" : "<pre> {{ propositionData| json }}"
          },
          "alignment" : {
            "type" : "constant",
            "value" : "left"
          },
          "allowHTML" : {
            "type" : "constant",
            "value" : true
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : true
          },
          "label" : {
            "type" : "interpolation",
            "value" : ""
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          }
        },
        "reference" : "2a5eccbf-b7d7-4fbf-9027-2896e6f67a0b",
        "hasValidationError" : false,
        "id" : "pbText"
      }
    ]
  ],
  "assets" : [
    {
      "id" : "5d53f8f6-97a7-4aa5-bc12-c2ceee9573f0",
      "name" : "localization.json",
      "type" : "json",
      "order" : 0,
      "external" : false
    },
    {
      "id" : "cfae3637-003d-45f0-a6dd-b3deaf263b13",
      "name" : "style.css",
      "type" : "css",
      "order" : 0,
      "external" : false
    },
    {
      "id" : "8f86b18d-a5e4-4c4b-886a-b20033bf2cbe",
      "name" : "customCSS.css",
      "type" : "css",
      "order" : 2,
      "external" : false
    }
  ],
  "inactiveAssets" : [ ],
  "variables" : {
    "formInput" : {
      "type" : "expression",
      "value" : [
        "var form_input = $data.proposition;",
        "",
        "try {",
        "    if ((typeof $data.proposition !== \"undefined\")",
        "        && (typeof form_input.typeProposition !== \"undefined\")",
        "        && (form_input.typeProposition == \"A renouveler\")) {",
        "           form_input.typeProposition = null;",
        "    }",
        "} catch(e) {",
        "    console.error(\"Exception formInput: \" + e);",
        "}",
        "",
        "return form_input;"
      ],
      "exposed" : false
    },
    "displayRevision" : {
      "type" : "json",
      "value" : [
        "{ ",
        "    \"title\" : \"de la révision\",",
        "    \"inTransitionInput\" : false,",
        "    \"propositionStatus\" : \"revision\",",
        "    \"buttonName\" : \"la révision\"",
        "}"
      ],
      "exposed" : false
    },
    "displayRefus" : {
      "type" : "json",
      "value" : [
        "{ ",
        "    \"title\" : \"de l'abandon de la DDD de renouvellement\",",
        "    \"inTransitionInput\" : false,",
        "    \"propositionStatus\" : \"refus\",",
        "    \"buttonName\" : \"l'abandon\",",
        "    \"motif\" : \"du \\\"sans suites\\\"\"",
        "}"
      ],
      "exposed" : false
    },
    "hasADefinirTypeAcquisition" : {
      "type" : "expression",
      "value" : [
        "if($data.formOutput ",
        "    && $data.formOutput.propositionInput ",
        "    && $data.formOutput.propositionInput.typeAcquisition === \"A définir\") {",
        "    return true;",
        "} else {",
        "    return false;",
        "}"
      ],
      "exposed" : false
    },
    "isInitForm" : {
      "type" : "expression",
      "value" : [
        "return false;"
      ],
      "exposed" : false
    },
    "formOutput" : {
      "type" : "expression",
      "value" : [
        "var propTemp = $data.formInput",
        "if (propTemp){",
        "        if (propTemp.attachmentsContract === undefined){",
        "             propTemp.attachmentsContract =  []",
        "             propTemp.statusAttachments = []",
        "        }",
        "        if (propTemp.userCommentOptionals === undefined){",
        "             propTemp.userCommentOptionals =  \"\"",
        "        }",
        "        if (propTemp.nbMonth === undefined){",
        "              propTemp.nbMonth =  null",
        "        }",
        "        if (propTemp.transferAgencyCode === undefined){",
        "              propTemp.transferAgencyCode =  null",
        "        }",
        "        ",
        "        if (propTemp.transferTerritoryCode === undefined){",
        "              propTemp.transferTerritoryCode = null",
        "        }",
        "        if (propTemp.transferAgencyName === undefined){",
        "              propTemp.transferAgencyName = null",
        "        }",
        " ",
        "        if ($data.commentInput === undefined) {",
        "            $data.commentInput =\"\";",
        "        }",
        "        ",
        "        if (propTemp.attachmentsContract.length !== 0){",
        "            ",
        "            propTemp.statusAttachments = [];",
        "",
        "            for(var j = 0; j < propTemp.attachmentsContract.length; j++) {",
        "                if (propTemp.attachmentsContract[j].status === undefined",
        "                    || propTemp.attachmentsContract[j].status === null",
        "                    || propTemp.attachmentsContract[j].status === \"\") {",
        "                    propTemp.statusAttachments.push(\"Autre\");",
        "                } else {",
        "                        propTemp.statusAttachments.push(propTemp.attachmentsContract[j].status);",
        "                }",
        "            }",
        "        } else {",
        "            propTemp.statusAttachments = [];",
        "        }",
        "        ",
        "       ",
        "}",
        "",
        "",
        "var result= {",
        "\t'propositionInput': propTemp,",
        "\t'inTransitionInput' : false,",
        "\t'propositionStatus' : \"validate\",",
        "\t'commentInput' : $data.commentInput",
        "};",
        "",
        "return result;"
      ],
      "exposed" : false
    },
    "proposition" : {
      "type" : "url",
      "value" : [
        "../{{context.currentProposition_ref.link}}"
      ],
      "exposed" : false
    },
    "context" : {
      "type" : "url",
      "value" : [
        "../API/bpm/userTask/{{taskId}}/context"
      ],
      "exposed" : false
    },
    "commentInput" : {
      "type" : "constant",
      "exposed" : false
    },
    "displayReportAnP1" : {
      "type" : "json",
      "value" : [
        "{ ",
        "    \"title\" : \"du report année n+1\",",
        "    \"inTransitionInput\" : false,",
        "    \"propositionStatus\" : \"reportAN1\",",
        "    \"buttonName\" : \"le report année n+1\"",
        "}"
      ],
      "exposed" : false
    },
    "formOutputOther" : {
      "type" : "expression",
      "value" : [
        "var payload = {}",
        "if($data.formOutput && $data.formOutput.propositionInput) {",
        "    var proposition = angular.copy($data.formOutput);",
        "",
        "    // Add needed payloadValues",
        "    proposition.propositionInput.userCommentOptional = \"\";",
        "    ",
        "    ",
        "    // update the year for ReportAN1 button",
        "/*    if ($data.propositionData[0].propositionStatus == \"reportAN1\") {",
        "        proposition.propositionInput.budgetYear = proposition.propositionInput.budgetYear + 1;",
        "    }",
        "*/",
        "",
        "    payload = {",
        "        \"propositionInput\" : proposition.propositionInput,",
        "        \"propositionStatus\" : ($data.propositionData.length > 0) ? $data.propositionData[0].propositionStatus : \"\",",
        "        \"inTransitionInput\" : ($data.propositionData.length > 0) ? $data.propositionData[0].inTransitionInput : \"\",",
        "        \"commentInput\" : $data.commentInput,",
        "        'dueDate' : ($data.task.dueDate === \"\") ? $data.task.dueDate : new Date()",
        "",
        "",
        "    } ",
        "",
        "}",
        "return payload"
      ],
      "exposed" : false
    },
    "removeComment" : {
      "type" : "expression",
      "value" : [
        "if ($data.propositionData.length === 0) {",
        "    $data.commentInput = \"\";",
        "}"
      ],
      "exposed" : false
    },
    "isTargetSameAsOrigin" : {
      "type" : "expression",
      "value" : [
        "if (!$data.proposition || !$data.proposition.agencyCode || !$data.proposition.transferAgencyCode) {",
        "    return false;",
        "}",
        "",
        "if($data.proposition.typeProposition === \"Transfert\") {",
        "    return ($data.proposition.agencyCode == $data.proposition.transferAgencyCode);",
        "} else {",
        "    return false;",
        "}"
      ],
      "exposed" : false
    },
    "formOutputDraft" : {
      "type" : "expression",
      "value" : [
        "var tempVar = angular.copy($data.formOutput);",
        "",
        "if(tempVar) {",
        "    tempVar.inTransitionInput = true;",
        "    tempVar.commentInput = \"\";",
        "    tempVar.propositionStatus = \"transition\";",
        "}",
        "",
        "return tempVar"
      ],
      "exposed" : false
    },
    "idLastProcessBudgetProposition" : {
      "type" : "expression",
      "value" : [
        "var idProcessDefinition= 0;",
        "",
        "var currentVersion = 0.0;",
        "",
        "if($data.listProcessBudgetProposition.length > 0){",
        "    for(var i = 0; i < $data.listProcessBudgetProposition.length; i++) {",
        "        var currentVersionBuffer = parseFloat($data.listProcessBudgetProposition[i].version);",
        "        if(currentVersionBuffer > currentVersion) {",
        "           currentVersion = currentVersionBuffer;",
        "           idProcessDefinition = $data.listProcessBudgetProposition[i].id",
        "        }",
        "    }",
        "}",
        "",
        "return idProcessDefinition;"
      ],
      "exposed" : false
    },
    "isSelectedTransfertAgencyExposed" : {
      "type" : "expression",
      "value" : [
        "if(!$data.proposition) {",
        "    return false;",
        "}",
        "",
        "var isSelectedTransfertAgencyExposed = $data.proposition.transferAgencyCode && $data.proposition.transferAgencyCode.length > 0;",
        "",
        "var isTransfertInter = ($data.proposition.transferAgencyCode && $data.proposition.transferAgencyCode.length > 0);",
        "var isRenouveler = ($data.proposition.typeProposition === \"A renouveler\");",
        "",
        "var displayDADApprovers = isRenouveler || isTransfertInter;",
        "",
        "return  displayDADApprovers;"
      ],
      "exposed" : false
    },
    "errorMessage" : {
      "type" : "constant",
      "exposed" : false
    },
    "formOutputReportRF" : {
      "type" : "expression",
      "value" : [
        "var tempVar = angular.copy($data.formOutput);",
        "",
        "if(tempVar) {",
        "    tempVar.inTransitionInput = false;",
        "    tempVar.commentInput = \"\";",
        "    tempVar.propositionStatus= \"reportRF\"",
        "}",
        "",
        "return tempVar"
      ],
      "exposed" : false
    },
    "propositionData" : {
      "type" : "json",
      "value" : [
        "[]"
      ],
      "exposed" : false
    },
    "task" : {
      "type" : "url",
      "value" : [
        "../API/bpm/userTask/{{taskId}}"
      ],
      "exposed" : false
    },
    "urlNewPropoisitionInst" : {
      "type" : "expression",
      "value" : [
        "return \"../API/bpm/process/\"+ $data.idLastProcessBudgetProposition +\"/instantiation\";"
      ],
      "exposed" : false
    },
    "displayADefinirPopup" : {
      "type" : "json",
      "value" : [
        "{ ",
        "    \"displayPopUp\" : true",
        "}"
      ],
      "exposed" : false
    },
    "displayPopupTypeAcquisitionMessage" : {
      "type" : "expression",
      "value" : [
        "// construction du message",
        "",
        "if (!$data.formOutput || !$data.formOutput.propositionInput) ",
        "    return \"\";",
        "",
        "var message = \"La proposition n°\" + $data.formOutput.propositionInput.persistenceId ",
        "    + \" possède un type d'acquisition <b>'À définir'</b>.<br/>\"",
        "    + \"</ul><br/>Voulez-vous quand même continuer ?\";",
        "",
        "return message;"
      ],
      "exposed" : false
    },
    "listProcessBudgetProposition" : {
      "type" : "url",
      "value" : [
        "../API/bpm/process?f=name=POP3P_BudgetProposition"
      ],
      "exposed" : false
    },
    "getSession" : {
      "type" : "url",
      "value" : [
        "../API/system/session/1"
      ],
      "exposed" : false
    },
    "taskId" : {
      "type" : "urlparameter",
      "value" : [
        "id"
      ],
      "exposed" : false
    },
    "invalidAmounts" : {
      "type" : "constant",
      "exposed" : false
    }
  },
  "hasValidationError" : false,
  "uuid" : "3841ee4c-e0d1-4d4c-bf57-6880251e8d2e",
  "type" : "form",
  "description" : "Page generated with Bonita UI designer"
}