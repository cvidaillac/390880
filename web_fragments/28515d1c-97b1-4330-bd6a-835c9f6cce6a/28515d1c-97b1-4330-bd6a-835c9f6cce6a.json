{
  "modelVersion" : "2.2",
  "previousArtifactVersion" : "2.0",
  "id" : "28515d1c-97b1-4330-bd6a-835c9f6cce6a",
  "name" : "fragUpdateDatesPlanningBudgetaire",
  "lastUpdate" : 1671627914192,
  "rows" : [
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "text" : {
            "type" : "interpolation",
            "value" : "Dates de présentations"
          },
          "level" : {
            "type" : "constant",
            "value" : "Level 3"
          },
          "alignment" : {
            "type" : "constant",
            "value" : "left"
          }
        },
        "reference" : "de5924ed-bc70-46d7-830f-0b685c240f39",
        "hasValidationError" : false,
        "id" : "pbTitle"
      },
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "text" : {
            "type" : "interpolation",
            "value" : "Enveloppes budgétaires"
          },
          "level" : {
            "type" : "constant",
            "value" : "Level 3"
          },
          "alignment" : {
            "type" : "constant",
            "value" : "left"
          }
        },
        "reference" : "e34ebf01-921e-4dce-ba4c-2e7b792a61e6",
        "hasValidationError" : false,
        "id" : "pbTitle"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "readOnly" : {
            "type" : "expression",
            "value" : "readOnly.isReadOnly"
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Agence {{agence.nomNoeud}}"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "value" : {
            "type" : "variable",
            "value" : "agence.datePresentation"
          },
          "dateFormat" : {
            "type" : "constant",
            "value" : "MM/dd/yyyy"
          },
          "placeholder" : {
            "type" : "interpolation",
            "value" : "Enter a date (mm/dd/yyyy)"
          },
          "showToday" : {
            "type" : "constant",
            "value" : false
          },
          "todayLabel" : {
            "type" : "interpolation",
            "value" : "Today"
          }
        },
        "reference" : "9d10f7ea-3c32-42ba-b51e-9e96e95b6f63",
        "hasValidationError" : false,
        "id" : "pbDatePicker"
      },
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "minLength" : {
            "type" : "constant",
            "value" : ""
          },
          "maxLength" : {
            "type" : "constant",
            "value" : ""
          },
          "readOnly" : {
            "type" : "expression",
            "value" : "readOnly.isReadOnly"
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Budget {{agence.nomNoeud}} (€)"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "placeholder" : {
            "type" : "interpolation"
          },
          "value" : {
            "type" : "variable",
            "value" : "agence.enveloppeBudget"
          },
          "type" : {
            "type" : "constant",
            "value" : "text"
          },
          "min" : {
            "type" : "constant",
            "value" : 0
          },
          "max" : {
            "type" : "constant"
          },
          "step" : {
            "type" : "constant",
            "value" : 1
          }
        },
        "reference" : "94b95e7b-704e-4b2d-85ba-952c2ee22adb",
        "hasValidationError" : false,
        "id" : "pbInput"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "readOnly" : {
            "type" : "expression",
            "value" : "readOnly.isReadOnly"
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Site  {{site.nomNoeud}}"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "value" : {
            "type" : "variable",
            "value" : "site.datePresentation"
          },
          "dateFormat" : {
            "type" : "constant",
            "value" : "MM/dd/yyyy"
          },
          "placeholder" : {
            "type" : "interpolation",
            "value" : "Enter a date (mm/dd/yyyy)"
          },
          "showToday" : {
            "type" : "constant",
            "value" : false
          },
          "todayLabel" : {
            "type" : "interpolation",
            "value" : "Today"
          }
        },
        "reference" : "b2b792c1-7299-4da2-a43c-ac0d32e74018",
        "hasValidationError" : false,
        "id" : "pbDatePicker"
      },
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "minLength" : {
            "type" : "constant",
            "value" : ""
          },
          "maxLength" : {
            "type" : "constant",
            "value" : ""
          },
          "readOnly" : {
            "type" : "expression",
            "value" : "readOnly.isReadOnly"
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Budget {{site.nomNoeud}} (€)"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "placeholder" : {
            "type" : "interpolation"
          },
          "value" : {
            "type" : "variable",
            "value" : "site.enveloppeBudget"
          },
          "type" : {
            "type" : "constant",
            "value" : "text"
          },
          "min" : {
            "type" : "constant",
            "value" : 0
          },
          "max" : {
            "type" : "constant"
          },
          "step" : {
            "type" : "constant",
            "value" : 1
          }
        },
        "reference" : "fde5bbd4-6f12-42f3-925d-201af6a37141",
        "hasValidationError" : false,
        "id" : "pbInput"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "readOnly" : {
            "type" : "expression",
            "value" : "readOnly.isReadOnly"
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Secteur  {{secteur.nomNoeud}}"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "value" : {
            "type" : "variable",
            "value" : "secteur.datePresentation"
          },
          "dateFormat" : {
            "type" : "constant",
            "value" : "MM/dd/yyyy"
          },
          "placeholder" : {
            "type" : "interpolation",
            "value" : "Enter a date (mm/dd/yyyy)"
          },
          "showToday" : {
            "type" : "constant",
            "value" : false
          },
          "todayLabel" : {
            "type" : "interpolation",
            "value" : "Today"
          }
        },
        "reference" : "55c98970-dc8a-4fa1-a6c7-35566069acae",
        "hasValidationError" : false,
        "id" : "pbDatePicker"
      },
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "minLength" : {
            "type" : "constant",
            "value" : ""
          },
          "maxLength" : {
            "type" : "constant",
            "value" : ""
          },
          "readOnly" : {
            "type" : "expression",
            "value" : "readOnly.isReadOnly"
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Budget {{secteur.nomNoeud}} (€)"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "placeholder" : {
            "type" : "interpolation"
          },
          "value" : {
            "type" : "variable",
            "value" : "secteur.enveloppeBudget"
          },
          "type" : {
            "type" : "constant",
            "value" : "text"
          },
          "min" : {
            "type" : "constant",
            "value" : 0
          },
          "max" : {
            "type" : "constant"
          },
          "step" : {
            "type" : "constant",
            "value" : 1
          }
        },
        "reference" : "9e6858d5-002e-40d9-bcc6-c6ce90dcf917",
        "hasValidationError" : false,
        "id" : "pbInput"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "readOnly" : {
            "type" : "expression",
            "value" : "readOnly.isReadOnly"
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Entité  {{entite.nomNoeud}}"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "value" : {
            "type" : "variable",
            "value" : "entite.datePresentation"
          },
          "dateFormat" : {
            "type" : "constant",
            "value" : "MM/dd/yyyy"
          },
          "placeholder" : {
            "type" : "interpolation",
            "value" : "Enter a date (mm/dd/yyyy)"
          },
          "showToday" : {
            "type" : "constant",
            "value" : false
          },
          "todayLabel" : {
            "type" : "interpolation",
            "value" : "Today"
          }
        },
        "reference" : "2db309d0-eaf3-4a76-b9a7-87d17d643672",
        "hasValidationError" : false,
        "id" : "pbDatePicker"
      },
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "minLength" : {
            "type" : "constant",
            "value" : ""
          },
          "maxLength" : {
            "type" : "constant",
            "value" : ""
          },
          "readOnly" : {
            "type" : "expression",
            "value" : "readOnly.isReadOnly"
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Budget {{entite.nomNoeud}}"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "top"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "placeholder" : {
            "type" : "interpolation"
          },
          "value" : {
            "type" : "variable",
            "value" : "entite.enveloppeBudget"
          },
          "type" : {
            "type" : "constant",
            "value" : "text"
          },
          "min" : {
            "type" : "constant",
            "value" : 0
          },
          "max" : {
            "type" : "constant"
          },
          "step" : {
            "type" : "constant",
            "value" : 1
          }
        },
        "reference" : "9af951cf-c47a-4bf3-a982-ce13667f7346",
        "hasValidationError" : false,
        "id" : "pbInput"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "readOnly" : {
            "type" : "expression",
            "value" : "readOnly.isReadOnly"
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "RF1"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "left"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "value" : {
            "type" : "variable",
            "value" : "entite.rf1"
          },
          "dateFormat" : {
            "type" : "constant",
            "value" : "MM/dd/yyyy"
          },
          "placeholder" : {
            "type" : "interpolation",
            "value" : "Enter a date (mm/dd/yyyy)"
          },
          "showToday" : {
            "type" : "constant",
            "value" : false
          },
          "todayLabel" : {
            "type" : "interpolation",
            "value" : "Today"
          }
        },
        "reference" : "f8c6de9e-f22c-4ed0-a3bd-945c4be0de70",
        "hasValidationError" : false,
        "id" : "pbDatePicker"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "readOnly" : {
            "type" : "expression",
            "value" : "readOnly.isReadOnly"
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "RF2"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "left"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "value" : {
            "type" : "variable",
            "value" : "entite.rf2"
          },
          "dateFormat" : {
            "type" : "constant",
            "value" : "MM/dd/yyyy"
          },
          "placeholder" : {
            "type" : "interpolation",
            "value" : "Enter a date (mm/dd/yyyy)"
          },
          "showToday" : {
            "type" : "constant",
            "value" : false
          },
          "todayLabel" : {
            "type" : "interpolation",
            "value" : "Today"
          }
        },
        "reference" : "ce471923-6eb9-4b53-804c-8f4384b89a02",
        "hasValidationError" : false,
        "id" : "pbDatePicker"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "readOnly" : {
            "type" : "expression",
            "value" : "readOnly.isReadOnly"
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "RF3"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "left"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "value" : {
            "type" : "variable",
            "value" : "entite.rf3"
          },
          "dateFormat" : {
            "type" : "constant",
            "value" : "MM/dd/yyyy"
          },
          "placeholder" : {
            "type" : "interpolation",
            "value" : "Enter a date (mm/dd/yyyy)"
          },
          "showToday" : {
            "type" : "constant",
            "value" : false
          },
          "todayLabel" : {
            "type" : "interpolation",
            "value" : "Today"
          }
        },
        "reference" : "dfc29953-4d6a-4120-8d8f-569e68d0f675",
        "hasValidationError" : false,
        "id" : "pbDatePicker"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 6,
          "lg" : 6
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "readOnly" : {
            "type" : "expression",
            "value" : "readOnly.isReadOnly"
          },
          "required" : {
            "type" : "constant",
            "value" : false
          },
          "labelHidden" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "RF4"
          },
          "labelPosition" : {
            "type" : "constant",
            "value" : "left"
          },
          "labelWidth" : {
            "type" : "constant",
            "value" : 4
          },
          "value" : {
            "type" : "variable",
            "value" : "entite.rf4"
          },
          "dateFormat" : {
            "type" : "constant",
            "value" : "MM/dd/yyyy"
          },
          "placeholder" : {
            "type" : "interpolation",
            "value" : "Enter a date (mm/dd/yyyy)"
          },
          "showToday" : {
            "type" : "constant",
            "value" : false
          },
          "todayLabel" : {
            "type" : "interpolation",
            "value" : "Today"
          }
        },
        "reference" : "12ffe1a1-fc7a-433f-9b92-6737fc9c3625",
        "hasValidationError" : false,
        "id" : "pbDatePicker"
      }
    ]
  ],
  "assets" : [ ],
  "inactiveAssets" : [ ],
  "variables" : {
    "setReturnedDates" : {
      "type" : "expression",
      "value" : [
        "$data.returnedDates=  {",
        "    'agence': $data.agence,",
        "    'site' :$data.site,",
        "    'secteur':$data.secteur,",
        "    'entite':$data.entite",
        "}"
      ],
      "exposed" : false
    },
    "selectedTerritory" : {
      "type" : "constant",
      "value" : [
        ""
      ],
      "exposed" : true
    },
    "readOnly" : {
      "type" : "constant",
      "value" : [
        ""
      ],
      "exposed" : true
    },
    "secteur" : {
      "type" : "json",
      "value" : [
        "{}"
      ],
      "exposed" : false
    },
    "agence" : {
      "type" : "json",
      "value" : [
        "{}"
      ],
      "exposed" : false
    },
    "site" : {
      "type" : "json",
      "value" : [
        "{}"
      ],
      "exposed" : false
    },
    "planningDates" : {
      "type" : "url",
      "value" : [
        "{{urlGetDatesPlanning}}"
      ],
      "exposed" : false
    },
    "entite" : {
      "type" : "json",
      "value" : [
        "{}"
      ],
      "exposed" : false
    },
    "selectedAgency" : {
      "type" : "constant",
      "value" : [
        ""
      ],
      "exposed" : true
    },
    "setValues" : {
      "type" : "expression",
      "value" : [
        "if($data.planningDates){\r",
        "     for (var i = 0; i < $data.planningDates.length; i++) {\r",
        "        if ($data.planningDates[i].intitule === \"Agence\"){\r",
        "            $data.agence.nomNoeud = $data.planningDates[i].nomNoeud\r",
        "\t\t\t$data.agence.enveloppeBudget = $data.planningDates[i].enveloppeBudget\r",
        "\t\t\t$data.agence.datePresentation = $data.planningDates[i].datePresentation\r",
        "        }else if ($data.planningDates[i].intitule === \"Site\"){\r",
        "\t\t\t$data.site.nomNoeud = $data.planningDates[i].nomNoeud\r",
        "\t\t\t$data.site.enveloppeBudget = $data.planningDates[i].enveloppeBudget\r",
        "\t\t\t$data.site.datePresentation = $data.planningDates[i].datePresentation\r",
        "\t\t}else if ($data.planningDates[i].intitule === \"Secteur\"){\r",
        "\t\t\t$data.secteur.nomNoeud = $data.planningDates[i].nomNoeud\r",
        "\t\t\t$data.secteur.enveloppeBudget = $data.planningDates[i].enveloppeBudget\r",
        "\t\t\t$data.secteur.datePresentation = $data.planningDates[i].datePresentation\r",
        "\t\t}else if ($data.planningDates[i].intitule === \"Entité\"){\r",
        "\t\t\t$data.entite.nomNoeud = $data.planningDates[i].nomNoeud\r",
        "\t\t\t$data.entite.enveloppeBudget = $data.planningDates[i].enveloppeBudget\r",
        "\t\t\t$data.entite.datePresentation = $data.planningDates[i].datePresentation\r",
        "\t\t\t$data.entite.rf1 = $data.planningDates[i].rf1\r",
        "\t\t\t$data.entite.rf2 = $data.planningDates[i].rf2\r",
        "\t\t\t$data.entite.rf3 = $data.planningDates[i].rf3\r",
        "\t\t\t$data.entite.rf4 = $data.planningDates[i].rf4\r",
        "\t\t}\r",
        "    }\r",
        "}"
      ],
      "exposed" : false
    },
    "selectedBudgetYear" : {
      "type" : "constant",
      "value" : [
        ""
      ],
      "exposed" : true
    },
    "returnedDates" : {
      "type" : "constant",
      "value" : [
        ""
      ],
      "exposed" : true
    },
    "urlGetDatesPlanning" : {
      "type" : "expression",
      "value" : [
        "if ($data.selectedAgency && $data.selectedBudgetYear){",
        "    return \"../API/extension/pop3pclientSoap?method=getBudgetPlanning&f=codeAgence=\"+$data.selectedAgency+\"&f=anneeBudget=\"+$data.selectedBudgetYear;",
        "}"
      ],
      "exposed" : false
    }
  },
  "hasValidationError" : false,
  "type" : "fragment"
}